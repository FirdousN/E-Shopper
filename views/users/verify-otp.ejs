

  <body>
    <div class="content">
      <div class="container">
        <div class="row">

          <div class="col-md-6 contents">
            <div class="row justify-content-center">
              <div class="col-md-8">
                <div class="mb-4">
                  <h3>OTP Verification</h3>+
                </div>
                <div>
                  <% var msg1 = msg1 || ''; %>
                  <% if (msg1) { %>
                    <span class="text-white "><%= msg1 %> </span>
                  <% } %>

                  <form action="/verify-otp" method="post" id="verify-otp-form">
                    <div class="d-flex flex-row">
                      <input type="hidden" name="phonenumber" id="phone"  value=<%= phonenumber %>>
                      <input type="hidden" name="otpValues" id="otpId"  >

                      <input type="text" class="m-1 text-center form-control rounded" maxlength="1" id="otp1" name="otp1" required>
                      <input type="text" class="m-1 text-center form-control rounded" maxlength="1" id="otp2" name="otp2" required>
                      <input type="text" class="m-1 text-center form-control rounded" maxlength="1" id="otp3" name="otp3" required>
                      <input type="text" class="m-1 text-center form-control rounded" maxlength="1" id="otp4" name="otp4" required>
                      <input type="text" class="m-1 text-center form-control rounded" maxlength="1" id="otp5" name="otp5" required>
                      <input type="text"   class="m-1 text-center form-control rounded" maxlength="1" id="otp6" name="otp6">
                    </div>
                    <% var msg2 = msg2 || ''; %>
                  <% if (msg2) { %>
                    <span class="text-warning "><%= msg2 %> </span>
                  <% } %>
                    <div class="w-100 text-right">
                      <a id="resenOtp" class=" mt-3 text-light" style=" float:left; cursor: pointer;" >Resend OTP</a>
                      <button type="submit" id="sendOtpBtn" onmouseenter="setMobileNumber()" class="btn btn-login mt-3" >CONFIRM</button>
                      <br>
                     <!-- // <p id="resenOtp" style="cursor: pointer;">resend otp</p> -->
                    </div>
                    <br>
                  </form>
                </div>

        
                  <span class="d-block text-left my-4 text-muted">&mdash; or login with &mdash;</span>

                  <div class="social-login">
                    <a href="#" class="facebook">
                      <span class="icon-facebook mr-3"></span>
                    </a>
                    <a href="#" class="twitter">
                      <span class="icon-twitter mr-3"></span>
                    </a>
                    <a href="#" class="google">
                      <span class="icon-google mr-3"></span>
                    </a>
                  </div>
                </form>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>

    
    <script>
       var otpValues = []; 


      $(document).ready(function () {
       // initialize empty array to store OTP values
        $('input[type="text"]').on('input keydown', function (e) {
          var $this = $(this);
          if (e.keyCode == 8 && !$this.val()) {
            $this.prev('input[type="text"]').focus(); // move cursor to previous input field if backspace is pressed and field is empty
            otpValues.pop(); // remove last value from array if backspace is pressed and field is empty
          } else if ($this.val()) {
            $this.next('input[type="text"]').focus(); // move cursor to next input field
            otpValues.push($this.val()); // store entered value in array
          }
        });
      });


      function setMobileNumber() {
        
        
  // const mobileNumber = document.getElementById("phonenumber").value;

  // document.getElementById("phonenumber-input").value = mobileNumber;
  
 

  let otp = document.getElementById('otp1').value 
   otp += document.getElementById('otp2').value 
   otp += document.getElementById('otp3').value 
   otp += document.getElementById('otp4').value 
   otp += document.getElementById('otp5').value 
   otp += document.getElementById('otp6').value 

            console.log(otp);
document.getElementById('otpId').value = otp;
// document.getElementById('otpId').value = otpValues.join('');

}
    </script>



<!-- <script>
  function resend() {

    let value = document.getElementById('phone').value

    $.ajax({
    url: "/resendOtp?phone="+value,
    method: "POST",
    data: {
      phone: value
    },


    success: function(response) {
      console.log(response);
    },
    error: function(xhr, status, error) {
      console.log("Error: " + error);
    }
  });
  }
</script> -->


    <script src="/login/js/jquery-3.3.1.min.js"></script>
    <script src="/login/js/popper.min.js"></script>
    <script src="/login/js/bootstrap.min.js"></script>
    <script src="/login/js/main.js"></script>
  </body>

 